<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalles de la Pel√≠cula</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h1>Detalles del usuario</h1>
    <div id="userWrapper">
        <h2 id="userDetails"></h2>
        <ul id="userRecomendations"></ul>
        <button onclick="window.history.back()">Volver</button>
    </div>

    <script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('userId');

            const userElement = document.getElementById('userDetails')
            userElement.textContent = `User id: ${userId}`
            fetchUserDetails(userId);
        };

        function fetchUserDetails(userId) {
            fetch(`/api/user-details?userId=${encodeURIComponent(userId)}`)
                .then(response => response.json())
                .then(data => {
                    const userRecomendationsElement = document.getElementById('userRecomendations')
                    for (let recommendation of data) {
                        const recomendationElement = document.createElement('li')
                        recomendationElement.textContent = `Title: ${recommendation.RecommendedMovies} Strength: ${recommendation.RecommendationStrength}`
                        userRecomendationsElement.appendChild(recomendationElement)
                    }
                })
                .catch(error => {
                    console.error('Error fetching movie details:', error);
                });
        }
    </script>
</body>
</html>
